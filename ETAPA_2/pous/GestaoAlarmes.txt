FUNCTION_BLOCK GestaoAlarmes
VAR_INPUT
    TRANSPORTADOR_ENTRADA_ON: BOOL;
    TRANSPORTADOR_SAIDA_ON: BOOL;
    VENTILACAO_SILO1: BOOL;
    VENTILACAO_SILO2: BOOL;
    ALIMENTADOR_MOEGA_ON: BOOL;
    
END_VAR

VAR_OUTPUT
    ALARME_TRANSPORTADOR_ENTRADA: BOOL;
    ALARME_TRANSPORTADOR_SAIDA: BOOL;
    ALARME_VENTILACAO_SILO1: BOOL;
    ALARME_VENTILACAO_SILO2: BOOL;
    ALARME_ALIMENTADOR_MOEGA: BOOL;
    
END_VAR

VAR
    
	PESO_SILO1: INT;
END_VAR


IF TRANSPORTADOR_ENTRADA_ON THEN
   IF (tempo >= T#5s) AND PESO_TRANSPORTADOR_ENTRADA == 0 THEN
       ALARME_TRANSPORTADOR_ENTRADA := TRUE;
    END_IF
 IF TRANSPORTADOR_SAIDA_ON THEN
     IF (tempo >= T#5s) AND PESO_TRANSPORTADOR_SAIDA == 0 THEN
        ALARME_TRANSPORTADOR_SAIDA := TRUE;
      END_IF
     IF (NOT ALIMENTADOR_SAIDA_ON)
         ALARME_TRANSPORTADOR_SAIDA := TRUE;
     END_IF
  END_IF
IF ALIMENTADOR_SAIDA_ON AND CAMINHAO_POSICIONADO := FALSE
   ALARME_ALIMENTADOR_SAIDA := TRUE;
END_IF
IF (NOT TRANSPORTADOR_SAIDA_ON) AND PESO_MOEGA != 0 THEN
    ALARME_MOEGA := TRUE;
END_IF
IF ALIMENTADOR_MOEGA_ON AND PESO_ALIMENTADOR_MOEGA == 0 THEN
    ALARME_ALIMENTADOR_MOEGA := TRUE;
END_IF